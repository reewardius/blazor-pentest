import requests
import os
import argparse

def parse_arguments():
    parser = argparse.ArgumentParser(description="Download files from a list of URLs and save them to a specified folder.")
    parser.add_argument("-f", "--folder", help="Specify the folder to save files to.", default=os.getcwd())
    return parser.parse_args()

def create_folder(folder):
    if not os.path.exists(folder):
        os.makedirs(folder)

with open('output.txt', 'r') as file:
    urls = file.read().splitlines()

args = parse_arguments()
output_folder = args.folder
create_folder(output_folder)

def download_file(url):
    filename = os.path.join(output_folder, os.path.basename(url))
    response = requests.get(url)
    
    if response.status_code == 200:
        with open(filename, 'wb') as file:
            file.write(response.content)
    else:
        print(f"Не удалось скачать файл {url}. Статус код: {response.status_code}")

for url in urls:
    download_file(url)
